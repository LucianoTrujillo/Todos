{"ast":null,"code":"import { normalize, schema, arrayOf } from 'normalizr';\nvar API = {\n  id: 1,\n  title: \"Blog Title\",\n  content: \"Some really short blog content.  Actually the least interesting post ever\",\n  created_at: \"2016-01-10T23:07:43.248Z\",\n  updated_at: '2016-01-10T23:07:43.248Z',\n  author: {\n    id: 81,\n    name: \"Mr Shelby\"\n  },\n  comments: [{\n    id: 352,\n    content: \"First!\",\n    author: {\n      id: 41,\n      name: \"Foo Bar\"\n    }\n  }]\n};\nexport var normalizeTodos = function normalizeTodos(API) {\n  var postSchema = new Schema('posts', {\n    idAttribute: 'id'\n  });\n  var postAuthorSchema = new Schema('postAuthors', {\n    idAttribute: 'id'\n  });\n  var commentSchema = new Schema('comments', {\n    idAttribute: 'id'\n  });\n  var CommentAuthorSchema = new Schema('commentAuthors', {\n    idAttribute: 'id'\n  }); // Here we define relationships between each resource/schema/entity\n  // (or whatever you feel like calling them these days)\n  // The post resource in our API response has an author and comments as children\n\n  postSchema.define({\n    author: postAuthorSchema,\n    comments: arrayOf(commentSchema)\n  }); // Each comment has an author\n\n  commentSchema.define({\n    author: commentAuthorSchema\n  });\n  var result = normalize(API, postSchema);\n  console.log(result);\n};","map":{"version":3,"sources":["C:\\Users\\lulet\\Desktop\\Platzi\\todoapp\\src\\Schemas\\index.jsx"],"names":["normalize","schema","arrayOf","API","id","title","content","created_at","updated_at","author","name","comments","normalizeTodos","postSchema","Schema","idAttribute","postAuthorSchema","commentSchema","CommentAuthorSchema","define","commentAuthorSchema","result","console","log"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,MAAnB,EAA2BC,OAA3B,QAAyC,WAAzC;AAEA,IAAMC,GAAG,GAAG;AACVC,EAAAA,EAAE,EAAE,CADM;AAEVC,EAAAA,KAAK,EAAE,YAFG;AAGVC,EAAAA,OAAO,EAAE,2EAHC;AAIVC,EAAAA,UAAU,EAAE,0BAJF;AAKVC,EAAAA,UAAU,EAAE,0BALF;AAMVC,EAAAA,MAAM,EAAE;AACJL,IAAAA,EAAE,EAAE,EADA;AAEJM,IAAAA,IAAI,EAAE;AAFF,GANE;AAUVC,EAAAA,QAAQ,EAAE,CACN;AACIP,IAAAA,EAAE,EAAE,GADR;AAEIE,IAAAA,OAAO,EAAE,QAFb;AAGIG,IAAAA,MAAM,EAAE;AACJL,MAAAA,EAAE,EAAE,EADA;AAEJM,MAAAA,IAAI,EAAE;AAFF;AAHZ,GADM;AAVA,CAAZ;AAsBA,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACT,GAAD,EAAS;AAErC,MAAMU,UAAU,GAAG,IAAIC,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,WAAW,EAAE;AAAf,GAApB,CAAnB;AACA,MAAMC,gBAAgB,GAAG,IAAIF,MAAJ,CAAW,aAAX,EAA0B;AAAEC,IAAAA,WAAW,EAAE;AAAf,GAA1B,CAAzB;AACA,MAAME,aAAa,GAAG,IAAIH,MAAJ,CAAW,UAAX,EAAuB;AAAEC,IAAAA,WAAW,EAAE;AAAf,GAAvB,CAAtB;AACA,MAAMG,mBAAmB,GAAG,IAAIJ,MAAJ,CAAW,gBAAX,EAA6B;AAAEC,IAAAA,WAAW,EAAE;AAAf,GAA7B,CAA5B,CALqC,CAOrC;AACA;AAEA;;AACAF,EAAAA,UAAU,CAACM,MAAX,CAAkB;AACdV,IAAAA,MAAM,EAAEO,gBADM;AAEdL,IAAAA,QAAQ,EAAET,OAAO,CAACe,aAAD;AAFH,GAAlB,EAXqC,CAgBrC;;AACAA,EAAAA,aAAa,CAACE,MAAd,CAAqB;AACjBV,IAAAA,MAAM,EAAEW;AADS,GAArB;AAIA,MAAMC,MAAM,GAAGrB,SAAS,CAACG,GAAD,EAAKU,UAAL,CAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,CAvBM","sourcesContent":["import {normalize, schema, arrayOf} from 'normalizr';\r\n\r\nconst API = {\r\n  id: 1,\r\n  title: \"Blog Title\",\r\n  content: \"Some really short blog content.  Actually the least interesting post ever\",\r\n  created_at: \"2016-01-10T23:07:43.248Z\",\r\n  updated_at: '2016-01-10T23:07:43.248Z',\r\n  author: {\r\n      id: 81,\r\n      name: \"Mr Shelby\"\r\n  },\r\n  comments: [\r\n      {\r\n          id: 352,\r\n          content: \"First!\",\r\n          author: {\r\n              id: 41,\r\n              name: \"Foo Bar\"\r\n          }\r\n      }\r\n  ]\r\n}\r\n\r\nexport const normalizeTodos = (API) => {\r\n\r\n  const postSchema = new Schema('posts', { idAttribute: 'id' });\r\n  const postAuthorSchema = new Schema('postAuthors', { idAttribute: 'id' });\r\n  const commentSchema = new Schema('comments', { idAttribute: 'id' });\r\n  const CommentAuthorSchema = new Schema('commentAuthors', { idAttribute: 'id' });\r\n\r\n  // Here we define relationships between each resource/schema/entity\r\n  // (or whatever you feel like calling them these days)\r\n\r\n  // The post resource in our API response has an author and comments as children\r\n  postSchema.define({\r\n      author: postAuthorSchema,\r\n      comments: arrayOf(commentSchema)\r\n  });\r\n\r\n  // Each comment has an author\r\n  commentSchema.define({\r\n      author: commentAuthorSchema\r\n  });\r\n\r\n  const result = normalize(API,postSchema);\r\n  console.log(result);\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}